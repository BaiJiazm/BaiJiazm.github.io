---
title: 设计实现
date: 2018/3/23 0:07:14 
tags:
- Review
---

## 设计实现

### 设计并实现一个LRU Cache
*   [设计并实现一个LRU Cache](https://songlee24.github.io/2015/05/10/design-LRU-Cache/)

### 请简述智能指针原理，并实现一个简单的智能指针
* [参考答案](https://www.nowcoder.com/ta/nine-chapter/review?page=6)
* [C++ 引用计数技术及智能指针的简单实现](http://www.cnblogs.com/QG-whz/p/4777312.html)
* [C++智能指针简单剖析](http://www.cnblogs.com/lanxuezaipiao/p/4132096.html)

```C++
class SmartPointer;

template<typename T>
class Counter {
		friend class SmartPointer<T>;
	private:
		T* ptr;
		int cnt;
	public:
		Counter() {
			ptr = NULL;
			cnt = 0;
		}
		Counter(T* p) {
			ptr = p;
			cnt = 1;
		}
		~Counter() {
			delete ptr;
		}
};

template <typename T>
class SmartPointer {
	private:
		Counter* ptr_counter;
	public:
		SmartPointer(T* p) {
			ptr_counter = new Counter(p);
		}
		SmartPointer(const SmartPointer &sp) {
			ptr_counter = sp.ptr_counter;
			++ptr_count->cnt;
		}
		SmartPointer& operator=(const SmartPointer &sp) {
			++sp.ptr_counter->cnt;
			--ptr_counter->cnt;
			if (ptr_counter->cnt == 0) {
				delete ptr_counter;
			}
			ptr_counter = sp.ptr_counter;
		}
		~SmartPointer() {
			--ptr_counter->cnt;
			if (ptr_counter->cnt == 0) {
				delete ptr_counter;
			}
		}
};

```


### 实现一个Memcpy函数
* [实现memcpy函数](https://my.oschina.net/renhc/blog/36345)（代码较好，基本正确）      
* [实现一个Memcpy函数](https://www.nowcoder.com/questionTerminal/9602083ec8d749999d86adf8a725b4f7)（评论中有一个按照int 字节拷贝，效率提升，值得借鉴。）
